/**
 * Liquidus main module. Loads specific trackers.
 *
 * @copyright Copyright (c) 2020 Open LMS
 * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("local_liquidus/main",["jquery","core/log","local_liquidus/router"],(function($,Log,Router){const Liquidus=function(trackerInfo){Log.debug("[".concat(trackerInfo.trackerId,"] Loading Liquidus.")),Router.init().done((()=>{(trackerInfo=>{trackerInfo.trackerId&&(trackerInfo.staticShares={},"undefined"!=typeof localLiquidusShares&&void 0!==localLiquidusShares[trackerInfo.trackerId]&&(Log.debug("[".concat(trackerInfo.trackerId,"] Found shares, loading.")),trackerInfo.staticShares=localLiquidusShares[trackerInfo.trackerId]),require(["local_liquidus/"+trackerInfo.trackerId+"-lazy"],(function(tracker){Log.debug("[".concat(trackerInfo.trackerId,"] Loaded tracker. Initializing.")),Log.debug(trackerInfo),tracker.loadTracker(trackerInfo).done((()=>Router.registerTracker(tracker)))})))})(trackerInfo)}))};return{init:trackerInfo=>($('input[type="submit"]').not('body#page-grade-grading-form-guide-edit #guide-criteria-addcriterion, body#page-blocks-conduit-view .block_conduit_setting_mappings input[type="submit"]').click((function(){const input=$(this),form=input.closest("form"),submitField=document.createElement("input");submitField.type="hidden",submitField.name=input.attr("name"),submitField.value=input.attr("value"),form.append(submitField)})),new Liquidus(trackerInfo))}}));

//# sourceMappingURL=main.min.js.map